{
"version":3,
"file":"stream.js",
"sourceRoot":"file://",
"sources":["/haxe/haxe-pixi/samples/stream/Main.hx"],
"sourcesContent":["package samples.stream;\n\nimport pixi.text.Text;\nimport js.html.ImageElement;\nimport pixi.core.utils.EventData;\nimport pixi.core.textures.Texture;\nimport pixi.core.sprites.Sprite;\nimport js.html.Element;\nimport pixi.core.renderers.SystemRenderer;\nimport pixi.core.display.Container;\nimport pixi.core.renderers.Detector;\n\nimport js.Browser;\nimport js.html.VideoElement;\n\nclass Main {\n\n\tvar _wrapper:Element;\n\tvar _videoElement:VideoElement;\n\tvar _videoCover:ImageElement;\n\n\tvar _renderer:SystemRenderer;\n\tvar _stage:Container;\n\n\tvar _bunny:Sprite;\n\tvar _table:Sprite;\n\n\tvar _label:Text;\n\n\tvar _vidTexture:Texture;\n\tvar _vidSprite:Sprite;\n\n\tpublic function new() {\n\t\t//super();\n\t\t_init();\n\t}\n\n\tfunction _init() {\n\t\tvar options:RenderingOptions = {};\n\t\toptions.backgroundColor = 0x003366;\n\t\toptions.resolution = 1;\n\n\t\t_stage = new Container();\n\t\t_renderer = Detector.autoDetectRenderer(1024, 648, options);\n\t\t_wrapper = Browser.document.getElementById(\"game\");\n\n\t\t_videoElement = Browser.document.createVideoElement();\n\t\t_videoElement.id = \"videoWheel\";\n\t\t_videoElement.style.position = \"absolute\";\n\t\t_videoElement.style.top = \"0px\";\n\t\t_videoElement.autoplay = true;\n\t\t//_videoElement.width = 384;\n\t\t//_videoElement.height = 320;\n\t\t_videoElement.src = \"http://qthttp.apple.com.edgesuite.net/1010qwoeiuryfg/sl.m3u8\";\n\n\t\t//\"/live/smil:multiplayer-roulette.smil/playlist.m3u8\";\n\t\t//\"http://91.213.212.37/casino/roulette/wh_vir-mob_med_hls/playlist.m3u8\"\n\t\t/*_videoCover = Browser.document.createImageElement();\n\t\t_videoCover.style.position = \"absolute\";\n\t\t_videoCover.width = 384;\n\t\t_videoCover.height = 354;\n\t\t_videoCover.src = \"assets/stream/outter_wheel.png\";*/\n\n\t\tBrowser.document.body.appendChild(_wrapper);\n\t\t_wrapper.appendChild(_renderer.view);\n\t\t_renderer.view.style.position = \"absolute\";\n\t\t_wrapper.appendChild(_videoElement);\n\t\t//_wrapper.appendChild(_videoCover);\n\t\tBrowser.window.requestAnimationFrame(cast _animate);\n\n\t\t//_table = new Sprite(Texture.fromImage(\"assets/stream/bg.png\"));\n\t\t//_stage.addChild(_table);\n\n\t\t_bunny = new Sprite(Texture.fromImage(\"assets/basics/bunny.png\"));\n\t\t_bunny.anchor.set(0.5, 0.5);\n\t\t_bunny.scale.set(4, 4);\n\t\t_bunny.position.set(550, 450);\n\t\t_bunny.interactive = true;\n\t\t_stage.addChild(_bunny);\n\t\t_bunny.on(\"tap\", _onTap);\n\n\t\t/*var ua:String = Browser.window.navigator.userAgent;\n\t\t_label = new Text(ua.substring(ua.indexOf(\"Browser\"), ua.length), {font: \"14px Arial\", fill: \"#FFFFFF\"});\n\t\t_label.position.set(0, _bunny.y + 100);\n\t\t_stage.addChild(_label);*/\n\t}\n\n\tfunction _onTap(data:EventData) {\n\t\t_videoElement.play();\n\t}\n\n\tfunction _animate() {\n\t\tBrowser.window.requestAnimationFrame(cast _animate);\n\t\t_renderer.render(_stage);\n\t}\n\n\tstatic function main() {\n\t\tnew Main();\n\t}\n}"],
"names":[],
"mappings":";;;sBAgCO,XAEN;;;2BA8DM,hBACN;;;;OA5DD,IAAiB;EACe;EAC/B,CAA0B;EAC1B,CAAqB;EAErB,CAAS;EACT,CAAY,FAA4B,AAAM,AAAK;EACnD,CAAW,FAAgC;EAE3B;EAAhB,CAAgB;EAChB,CAAmB;EACnB,CAA+B;EAC/B,CAA0B;EAC1B,CAAyB;EAGzB,CAAoB;EAUpB,DAAkC;EAClC,DAAqB;EACrB,CAAgC;EAChC,DAAqB;EAErB,DAAqC,AAAK;EAK1C,CAAS,aAAW,fAAkB;EACtC,DAAkB,AAAK;EACvB,DAAiB,AAAG;EACpB,DAAoB,AAAK;EACzB,CAAqB;EACrB,DAAgB;EAChB,DAAU,AAAO;;QAQlB,OACC;;;UAGD,CAAoB;EACnB,DAAqC,AAAK;EAC1C,DAAiB;;;;;;;;"
}