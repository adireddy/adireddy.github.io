{
"version":3,
"file":"stream.js",
"sourceRoot":"file://",
"sources":["/haxe/haxe-pixi/samples/stream/Main.hx"],
"sourcesContent":["package samples.stream;\n\nimport pixi.text.Text;\nimport js.html.ImageElement;\nimport pixi.core.utils.EventData;\nimport pixi.core.textures.Texture;\nimport pixi.core.sprites.Sprite;\nimport js.html.Element;\nimport pixi.core.renderers.SystemRenderer;\nimport pixi.core.display.Container;\nimport pixi.core.renderers.Detector;\n\nimport js.Browser;\nimport js.html.VideoElement;\n\nclass Main {\n\n\tvar _wrapper:Element;\n\tvar _videoElement:VideoElement;\n\tvar _videoCover:ImageElement;\n\n\tvar _renderer:SystemRenderer;\n\tvar _stage:Container;\n\n\tvar _bunny:Sprite;\n\tvar _table:Sprite;\n\n\tvar _label:Text;\n\n\tvar _vidTexture:Texture;\n\tvar _vidSprite:Sprite;\n\n\tpublic function new() {\n\t\t_init();\n\t}\n\n\tfunction _init() {\n\t\tvar options:RenderingOptions = {};\n\t\toptions.backgroundColor = 0x003366;\n\t\toptions.resolution = 1;\n\n\t\t_stage = new Container();\n\t\t_renderer = Detector.autoDetectRenderer(Browser.window.innerWidth, Browser.window.innerHeight, options);\n\t\t_wrapper = Browser.document.getElementById(\"game\");\n\n\t\t_videoElement = Browser.document.createVideoElement();\n\t\t_videoElement.id = \"videoWheel\";\n\t\t_videoElement.style.position = \"absolute\";\n\t\t_videoElement.style.top = \"0px\";\n\t\t_videoElement.autoplay = true;\n\t\t_videoElement.src = \"http://qthttp.apple.com.edgesuite.net/1010qwoeiuryfg/sl.m3u8\";\n\n\t\tBrowser.document.body.appendChild(_wrapper);\n\t\t_wrapper.appendChild(_renderer.view);\n\t\t_renderer.view.style.position = \"absolute\";\n\t\t_wrapper.appendChild(_videoElement);\n\t\tBrowser.window.requestAnimationFrame(cast _animate);\n\n\t\t_bunny = new Sprite(Texture.fromImage(\"assets/basics/bunny.png\"));\n\t\t_bunny.anchor.set(0.5, 0.5);\n\t\t_bunny.scale.set(4, 4);\n\t\t_bunny.position.set(550, Browser.window.innerHeight);\n\t\t_bunny.interactive = true;\n\t\t_stage.addChild(_bunny);\n\t\t_bunny.on(\"tap\", _onTap);\n\t}\n\n\tfunction _onTap(data:EventData) {\n\t\t_videoElement.play();\n\t}\n\n\tfunction _animate() {\n\t\tBrowser.window.requestAnimationFrame(cast _animate);\n\t\t_renderer.render(_stage);\n\t}\n\n\tstatic function main() {\n\t\tnew Main();\n\t}\n}"],
"names":[],
"mappings":";;;sBAgCO,XACN;;;2BA2CM,hBACN;;;;OAzCD,IAAiB;EACe;EAC/B,CAA0B;EAC1B,CAAqB;EAErB,CAAS;EACT,CAAY,FAA4B,AAA2B,AAA4B;EAC/F,CAAW,FAAgC;EAE3B;EAAhB,CAAgB;EAChB,CAAmB;EACnB,CAA+B;EAC/B,CAA0B;EAC1B,CAAyB;EACzB,CAAoB;EAEpB,DAAkC;EAClC,DAAqB;EACrB,CAAgC;EAChC,DAAqB;EACrB,DAAqC,AAAK;EAE1C,CAAS,aAAW,fAAkB;EACtC,DAAkB,AAAK;EACvB,DAAiB,AAAG;EACpB,DAAoB,AAAK;EACzB,CAAqB;EACrB,DAAgB;EAChB,DAAU,AAAO;;QAGlB,OACC;;;UAGD,CAAoB;EACnB,DAAqC,AAAK;EAC1C,DAAiB;;;;;;;;"
}