<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Haxe "never" and "inline" keywords. &middot; Adi Reddy Mora
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- shareaholic -->
  <script type="text/javascript">
  //<![CDATA[
    (function() {
      var shr = document.createElement('script');
      shr.setAttribute('data-cfasync', 'false');
      shr.src = '//dsms0mj1bbhn4.cloudfront.net/assets/pub/shareaholic.js';
      shr.type = 'text/javascript'; shr.async = 'true';
      shr.onload = shr.onreadystatechange = function() {
        var rs = this.readyState;
        if (rs && rs != 'complete' && rs != 'loaded') return;
        var site_id = '564a1c0907e119d5f3d2aa9543f54721';
        try { Shareaholic.init(site_id); } catch (e) {}
      };
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(shr, s);
    })();
  //]]>
  </script>

</head>

  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>"A problem is a chance for you to do your best." -- Duke Ellington</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
      
    
      
    
      
        
      
    
      <a class="sidebar-nav-item" href="/about">About</a>
    <!--<a class="sidebar-nav-item" href="/archive/v1.0.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span>-->
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2014. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Adi Reddy Mora</a>
            <small>@adireddy - arm.rocks</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Haxe "never" and "inline" keywords.</h1>
  <span class="post-date">08 Nov 2014</span>
  <p>There is no “const” keyword in Haxe to define constants like in ActionScript.</p>

<p>So “never” keyword can be used to define constants/read-only variables as shown below.</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kd">public</span> <span class="kd">var</span> MAX_COUNT<span class="p">(</span><span class="k">default</span><span class="p">,</span> <span class="k">never</span><span class="p">):</span><span class="n">Int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
</code></pre></div>
<p>If you try to set the value of MAX<em>COUNT, compiler will throw an error saying “</em>Cannot access field or identifier MAX<em>COUNT for writing</em>”.</p>

<p>For static variables and functions “inline” keyword can be used as a powerful optimization tool.</p>

<p>The following is a way to define static constant/read-only variables using “inline”.</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">inline</span> <span class="kd">var</span> MAX_COUNT<span class="p">:</span><span class="n">Int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
</code></pre></div>
<p>“inline” should be carefully used with functions as not all functions will be ideal candidates for optimization.</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">inline</span> <span class="kd">function</span> <span class="nf">stageCenter</span><span class="p">(</span><span class="n">sw</span><span class="p">:</span><span class="n">Float</span><span class="p">,</span> <span class="n">iw</span><span class="p">:</span><span class="n">Float</span><span class="p">):</span><span class="n">Float</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">sw</span> <span class="o">-</span> <span class="n">iw</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>At run-time the function call</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kd">var</span> pos <span class="o">=</span> <span class="n">stageCenter</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
</code></pre></div>
<p>will be translated to the following by eliminating the function call.</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kd">var</span> pos <span class="o">=</span> <span class="p">(</span><span class="mi">800</span> <span class="o">-</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</code></pre></div>
<p>As per the official documentation,</p>

<blockquote>
<p>It is not always easy to judge if a function is ideal for inline. Short functions that have no writing expressions (such as a = value) are usually a good choice, but even more complex functions can be candidates. However, in some cases inlining can actually be detrimental to performance, e.g. because the compiler has to create temporary variables for complex expressions.</p>
</blockquote>

<p>Note that “inline” can be totally disabled by passing compiler argument <em>--no-inline</em>.</p>

</div>

<div class='shareaholic-canvas' data-app='share_buttons' data-app-id='12477381'></div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'adireddy';
    var disqus_url = 'http://adireddy.github.io/2014/11/08/never-inline-keywords/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<div class="related">
    <h2>Related Posts</h2>
    <ul class="related-posts">
        
        <li>
            <h3>
                <a href="http://adireddy.github.io/2014/11/20/haxe-access-modifiers-return-types/">
                    Haxe default Access Modifiers and Return Types.
                    <small>20 Nov 2014</small>
                </a>
            </h3>
        </li>
        
        <li>
            <h3>
                <a href="http://adireddy.github.io/2014/11/17/haxe-string-interpolation-stringutils/">
                    Haxe String Interpolation and StringTools.
                    <small>17 Nov 2014</small>
                </a>
            </h3>
        </li>
        
        <li>
            <h3>
                <a href="http://adireddy.github.io/2014/11/12/haxe-at-work/">
                    Haxe at Work.
                    <small>12 Nov 2014</small>
                </a>
            </h3>
        </li>
        
    </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </body>
</html>
